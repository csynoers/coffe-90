<template>
    <div class="page" data-name="daftar-pesanan">
        <!-- Top Navbar -->
        <div class="navbar">
            <div class="navbar-bg"></div>
            <div class="navbar-inner sliding">
            <div class="left">
                <a href="#" class="link back">
                <i class="icon icon-back"></i>
                <span class="if-not-md">Back</span>
                </a>
            </div>
            <div class="title">Daftar Pesanan</div>
            </div>
        </div>
        <!-- Toolbar-->
        <div class="toolbar toolbar-bottom">
            <div class="text-align-center">
                <p>@coffe's 90</p>
            </div>
        </div>
        <!-- Scrollable page content-->
        <div class="page-content">
            <div class="block">
                <div class="">
                    <!-- <div class="block-title">Detail Pesanan :</div> -->
                    ${daftar_antrian.value.map((item) => $h`
                        <div class="card card-outline ambil-daftar-pesanan-admin" data-id="${item.id_pesanan}">
                            <div class="card-content card-content-padding">
                                <div>Nomor Meja: nomor_meja</div>
                                <div class="block-title no-margin-left">Detail Pesanan :</div>
                                <div class="list no-hairlines-mdXX">
                                    <ul>
                                        <li>
                                            <div class="item-content">
                                                <div class="item-inner">
                                                    <div class="float-left">Nama Menu</div>
                                                    <div class="float-right">Status</div>
                                                </div>
                                            </div>
                                        </li>
                                        ${item.detail.map((i)=>$h`
                                            <li>
                                                <div class="item-content">
                                                    <div class="item-inner">
                                                        <div class="float-left">${i.menu.nama_menu}</div>
                                                        <div class="float-right"><span class="${i.status=='Siap' ? 'text-color-green' : 'text-color-red'}">${i.status}</span></div>
                                                    </div>
                                                </div>
                                            </li>
                                        `)}
                                    </ul>
                                </div>
                            </div>
                        </div>
                    `)}
                </div>
            </div>
        </div>
    </div>
</template>
<script>
export default (props,{ $,$f7, $store, $f7route, $f7router, $update, $on, $onMounted }) => {
    const daftar_antrian = $store.getters.daftar_antrian;
    
    $on('pageInit', (e) => {
        // get daftar_menu belum siap/Siap
        $store.dispatch('getDaftarAntrian');

        console.log(daftar_antrian)
    })
    return $render;
}
</script>